<!--Handlebars.js template for modules-->
<script id="moduleTemplate" type="text/x-handlebars-template">
	<div class="module {{moduleCssClass}} ">
		<span class="dataContainer"></span>

		<header class="{{headerCssClass}}">
			<div style="margin: 0 0 5px 0;">{{moduleName}}</div>
		</header>
		
		{{#if hasKeyboardInterface}}
			<fieldset>
				<div id="keyboard"></div>
				<div>&nbsp;</div>
				<div id="keyboardNoteInput">&nbsp;</div>
			</fieldset>
		{{/if}}

		{{#each sections}}
			{{> partial-sections}}
		{{/each}}

		{{#if hiddenParameters}}
			<fieldset>
			{{#each hiddenParameters}}
				<div>
					<input	type="hidden"
							data-parametertype="{{type}}"
							name="{{name}}"
							value="{{value}}" />
				</div>
			{{/each}}
			</fieldset>
		{{/if}}

		{{> partial-connectors}}
	</div>
</script>

<script>
	// importDoc references this import's document
	var importDoc = document.currentScript.ownerDocument;

	// mainDoc references the main document (the page that's importing us)
	var mainDoc = document;

	// Grab the element from this import, clone it,
	// and append it to the importing document.
	var el = importDoc.querySelector('#moduleTemplate');
	mainDoc.body.appendChild(el.cloneNode(true));
</script>
